<div class="page-container">
  <app-sidebar></app-sidebar>
  <div class="water-quality-dashboard">
    <div class="header">
      <h1>Informes de calidad del agua</h1>
      <p class="subtitle">Evalúa la eficacia de tu purificación de agua</p>
    </div>

    <div class="chart-container">
      <div class="chart-header">
        <span class="chart-title">Analisis en tiempo real</span>
        <span class="chart-subtitle">DATOS</span>
      </div>
      <div class="chart-wrapper">
        <canvas #chartCanvas></canvas>
      </div>
    </div>

    <div class="metrics-grid">
      <div class="metric-card">
        <h3>Última lectura de Turbidez</h3>
        <div class="metric-value">
          <span class="value">{{ lastTurbidity !== null ? (lastTurbidity | number:'1.2-2') : 'Cargando...' }}</span>
        </div>
        <p class="metric-description">Última medición desde el sensor de turbidez.</p>
      </div>
      
      <div class="metric-card">
        <h3>Promedio de Turbidez</h3>
        <div class="metric-value">
          <span class="value">{{ avgTurbidity !== null ? (avgTurbidity | number:'1.2-2') : 'Cargando...' }}</span>
        </div>
        <p class="metric-description">Promedio de turbidez en las últimas lecturas.</p>
      </div>
      

      <div class="metric-card quality-card">
        <h3>Calidad del agua</h3>
        <div class="quality-chart-container">
          <canvas #qualityCanvas></canvas>
          <div class="quality-percentage">
            <span class="quality-value">{{ waterQuality }}%</span>
          </div>
        </div>
        <p class="metric-description">
          Lorem ipsum dolor sit amet consectetur adipiscing elit.
        </p>
      </div>
    </div>
  </div>
</div>